# Release Notes

:::tip
For all versions, please see [GitHub releases](https://github.com/juicedata/juicefs/releases).
:::

## Upgrade to JuiceFS v1.0-beta3

JuiceFS client has only one binary file, so when upgrading, you only need to replace the old version with the new one.

Please note that JuiceFS v1.0-beta3 changed the table schema of the SQL class metadata engine. For the file system already created, you should upgrade the SQL table schema first, and then upgrade the client.

### Modify SQL table schema

#### MySQL/MariaDB

```sql
alter table jfs_edge
    modify name varbinary(255) not null;
alter table jfs_symlink
    modify target varbinary(4096) not null;
```

#### PostgreSQL

```sql
alter table jfs_edge
    alter column name type bytea using name::bytea;
alter table jfs_symlink
    alter column target type bytea using target::bytea;
```

#### SQLite

```sql
create table jfs_edge_dg_tmp
(
    parent INTEGER not null,
    name   blob    not null,
    inode  INTEGER not null,
    type   INTEGER not null
);

insert into jfs_edge_dg_tmp(parent, name, inode, type)
select parent, name, inode, type
from jfs_edge;

drop table jfs_edge;

alter table jfs_edge_dg_tmp
    rename to jfs_edge;

create unique index UQE_jfs_edge_edge
    on jfs_edge (parent, name);

create table jfs_symlink_dg_tmp
(
    inode  INTEGER not null
        primary key,
    target blob    not null
);

insert into jfs_symlink_dg_tmp(inode, target)
select inode, target
from jfs_symlink;

drop table jfs_symlink;

alter table jfs_symlink_dg_tmp
    rename to jfs_symlink;
```

### New session management format

JuiceFS v1.0-beta3 uses a new session management format, previous versions of clients will not be able to see the sessions generated by v1.0-beta3 clients via `juicefs status` or `juicefs destroy`, new versions of clients can see all sessions.
